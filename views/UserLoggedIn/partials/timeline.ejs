<div class="timeline-wrapper">
    <!-- <h1 class="text-light recentActivity-title">Recent Activity</h1> -->
<% for (x in timeline){%>
  
<%if(timeline[x].type == "Help Request"){%>
    <%if(x == timeline.length -3){%>
    <input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
    <div class="timeline-container-helprequest loadMore">
    <%}else{%>
        <input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
        <div class="timeline-container-helprequest">
    <%}%>
        <div class="postHeader">
            <div class="postRight">
                <p class="postDate">Due Date: <span class="text-light"><%=timeline[x].date%></span></p>
        
                <%if (timeline[x].bids){%>
                    <% if(timeline[x].bids.length === 1){%>
                        <p class="postBids badge badge-warning"><%=timeline[x].bids.length%> Bid</p>
                    <%} else{%>
                        <p class="postBids badge badge-warning"><%=timeline[x].bids.length%> Bids</p>

                    <%}%>
                <%}%>
            </div>
            <%if(timeline[x].anonymous == false){%>
                <img class="timelinePost-Image" src="<%=timeline[x].userImage%>" />
                <p class="timelinePost-help"><a
                    class="userNameLink" href="/user/<%=timeline[x].userHandle%>"><%=timeline[x].userName%>
                </a>
                    <p class="text-light helpReqTxt"><span class="badge badge-success">Help Request</span></p>
                </div>
                <p class="caption1">Task: <%=timeline[x].caption%></p>
            <%}else{%>
                <img class="timelinePost-Image" src="../assets/img/favicon.png" />
                <p class="timelinePost-username">Anonymous</p>
                <p class="text-light helpReqTxt"><span class="badge badge-success">Help Request</span></p>
            </div>
            <p class="captionAnon"><%=timeline[x].caption%></p>
            <%}%>
           
       
        <div class="helpRequestDetails">
            <p class="text-light price">Asking Price: <span class="askPrice"> $<%=timeline[x].PostDetails.toFixed(2)%></span>
                <span class="badge badge-primary info-badge help-course"><%=timeline[x].course%></span>
            </p>
         
        </div>
        
        <div class="postActions">
            <%if(timeline[x].type == "Help Request"){%>
                <% if (timeline[x].hasLiked == false){%>
                    <button class="like-button like-help">
                        <span class="likeCount"><%=timeline[x].likes%></span>
                        <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                        </svg>
                    </button>
                    <% }else{%>
                    <button class="like-button like-help hasLiked">
                        <span class="likeCount"><%=timeline[x].likes%></span>
                        <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                        </svg>
                    </button>
                    
                    <%}%>

            <%}else{%>

          
            <% if (timeline[x].hasLiked == false){%>
            <button class="like-button like-nonhelp">
                <span class="likeCount"><%=timeline[x].likes%></span>
                <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
            </button>
            <% }else{%>
            <button class="like-button like-nonhelp hasLiked">
                <span class="likeCount"><%=timeline[x].likes%></span>
                <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
            </button>
            <%}%>
            
            <%}%>
            <%if(timeline[x].commentCount > 1){%>
                <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comments</a>
            <%}else if(timeline[x].commentCount === 1){%>
                <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comment</a>
            <%}else{%>
                <a href="/post/<%=timeline[x].id%>" class="addComment">Add Comment</a>
            <%}%>
           
            <%if(session.tutor){%>
                <div class="placeBid">
                    <div class="bid-input-container">
                        <input type="hidden" class="timelineId" value="<%=timeline[x].id%>"/>
                        <input type="hidden" class="bidder" value="<%=session.handle%>"/>
                        <input type="hidden" class="userId" value="<%=session.userId%>"/>
                        <span class="help-dollar-text">$</span><input type="text" class="bid-input" placeholder="0.00" />
                        <input type="hidden" class="stripeId" value="<%=session.stripeId%>"/>
                        <input type="hidden" class="stripeId" value="<%=timeline[x].caption%>"/>
                    </div>
                    <button type="button" class="btn btn-primary respondBtn">Place Bid</button>
                </div>
               
            <%}else{%>
                <div class="placeBid">
                    <a href="/MyFinances" class="addPaymentInfo">Add payment info to place a bid</a>
                </div>

            <%}%>
            <p class="bidErrTxt">Bid must be $5 or greater</p>
        </div>
      
    </div>
<%}if(timeline[x].type === "Tutor Listing"){%>
        <input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
        <div class="timeline-container-status">
            <div class="postHeader">
              
                <img class="timelinePost-Image" src="<%=timeline[x].userImage%>" />
                <p class="timelinePost-username"><%=timeline[x].userName%><p class="postHandle"><a
                            href="/user/<%=timeline[x].userHandle%>"><%=timeline[x].userHandle%></a></p></p>
            </div>

            <p class="caption"><%=timeline[x].caption%></p>
            <p class="price-nonhelp badge badge-warning">Price: $<%=timeline[x].price%></p>
            <a class="btn btn-primary view-timeline-btn" href="..<%=timeline[x].url%>">View</a>
            
            <div class="postActions">
                <% if (timeline[x].hasLiked == false){%>
                <button class="like-button">
                    <span class="likeCount"><%=timeline[x].likes%></span>
                    <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                    </svg>
                </button>
                <%if(timeline[x].commentCount > 1){%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comments</a>
                <%}else if(timeline[x].commentCount === 1){%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comment</a>
                <%}else{%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment">Add Comment</a>
                <%}%>
                <% }else{%>
                <button class="like-button hasLiked">
                    <span class="likeCount"><%=timeline[x].likes%></span>
                    <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                    </svg>
                </button>
                <%if(timeline[x].commentCount > 1){%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comments</a>
                <%}else if(timeline[x].commentCount === 1){%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comment</a>
                <%}else{%>
                    <a href="/post/<%=timeline[x].id%>" class="addComment">Add Comment</a>
                <%}%>
                <%}%>
                <p class="postDate nonhelp-date"><%=timeline[x].date%></p>
            </div>
            
        </div>
<%}if(timeline[x].type === "Study Group"){%>
<input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
<div class="timeline-container-status">
    <div class="postHeader">
        <img class="timelinePost-Image" src="<%=timeline[x].userImage%>" />
        <p class="timelinePost-username"><%=timeline[x].userName%><p class="postHandle"><a
                    href="/user/<%=timeline[x].userHandle%>"><%=timeline[x].userHandle%></a></p></p>
    </div>
    <p class="caption"><%=timeline[x].caption%><a href="/Group/<%=timeline[x].url%>" class="btn btn-primary view-timeline-btn">View</a></p>
    
    <ul class="postDetailsList">
        <li class="postDetailsItem">
            <p class="badge badge-primary info-badge help-course"><%=timeline[x].course%></p>
        </li>
        <li class="postDetailsItem">
            <p class="badge badge-warning info-badge help-course">Prof. <%=timeline[x].price%></p>
        </li>
    </ul>
    <div class="postActions">

        <% if (timeline[x].hasLiked == false){%>
        <button class="like-button">
            <span class="likeCount"><%=timeline[x].likes%></span>
            <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
            </svg>
        </button>
        <% }else{%>
        <button class="like-button hasLiked">
            <span class="likeCount"><%=timeline[x].likes%></span>
            <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
            </svg>
        </button>
        <%}%>
        <p class="postDate"><%=timeline[x].date%></p>
        <br>
    </div>
</div>
<%}if(timeline[x].type === "Status Update"){%>
    <input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
<div class="timeline-container-status">
    <div class="postHeader">
      
        <img class="timelinePost-Image" src="<%=timeline[x].userImage%>" />
        <p class="timelinePost-username"><%=timeline[x].userName%><p class="postHandle"><a
                    href="/user/<%=timeline[x].userHandle%>"><%=timeline[x].userHandle%></a></p></p>
    </div>
    <p class="caption-status"><%=timeline[x].caption%></p>
    <div class="postActions">
        <%if(timeline[x].type == "Help Request"){%>
            <% if (timeline[x].hasLiked == false){%>
                <button class="like-button like-help">
                    <span class="likeCount"><%=timeline[x].likes%></span>
                    <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                    </svg>
                </button>
                <% }else{%>
                <button class="like-button like-help hasLiked">
                    <span class="likeCount"><%=timeline[x].likes%></span>
                    <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                    </svg>
                </button>
                
                <%}%>
        <%}else{%>
        <% if (timeline[x].hasLiked == false){%>
        <button class="like-button like-nonhelp">
            <span class="likeCount"><%=timeline[x].likes%></span>
            <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
            </svg>
        </button>
        <% }else{%>
        <button class="like-button like-nonhelp hasLiked">
            <span class="likeCount"><%=timeline[x].likes%></span>
            <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
            </svg>
        </button>
        <%}%>
        
        <%}%>
        <%if(timeline[x].commentCount > 1){%>
            <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comments</a>
        <%}else if(timeline[x].commentCount === 1){%>
            <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comment</a>
        <%}else{%>
            <a href="/post/<%=timeline[x].id%>" class="addComment">Add Comment</a>
        <%}%>
        <p class="postDate"><%=timeline[x].date%></p>
    </div>
</div>
<%} if(timeline[x].type === "Question"){%>
    <input class="postId" name="postId" type="hidden" value="<%=timeline[x].id%>" />
    <div class="timeline-container-status">
        <div class="postHeader">
            <div class="postRight1">
                
            </div>
            <a href="/user/<%=timeline[x].userHandle%>"><img class="timelinePost-Image" src="<%=timeline[x].userImage%>" /></a>
            <p class="timelinePost-username"><a href="/user/<%=timeline[x].userHandle%>" class="name-link"><%=timeline[x].userName%></a>
                <div class="question-label-container">
                <p class=" badge badge-info questionLabel">Question</p>
            </div>
            </p>
        </div>
        <%if(timeline[x].files.length > 0){%>
        
      
        <%if(timeline[x].files[0].file.includes(".pdf")){%>
            <div>
                <iframe class="pdf-iframe" src="<%=timeline[x].files[0].file%>"></iframe>
            </div>
            <p class="pdf-link"><a target="_blank" class="pdf-link" href="<%=timeline[x].files[0].file%>">View Full Screen</a></p>
        <%}else{%>
            <div class="question-img-container">
                <img class="question-img" src="<%=timeline[x].files[0].file%>"/>
            </div>
            <p class="pdf-link"><a target="_blank" class="pdf-link" href="<%=timeline[x].files[0].file%>">View Full Screen</a></p>
       <%}%>
       <%}%>
       <p class="caption-status"><%=timeline[x].caption%></p>
       <p class="hashtag"><a href="/course/<%=timeline[x].course%>">#<%=timeline[x].course.replace(/ /g, "")%></a></p>
        <div class="postActions">
            <% if (timeline[x].hasLiked == false){%>
            <button class="like-button like-nonhelp">
                <span class="likeCount"><%=timeline[x].likes%></span>
                <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
            </button>
            <% }else{%>
            <button class="like-button like-nonhelp hasLiked">
                <span class="likeCount"><%=timeline[x].likes%></span>
                <svg class="bi bi-heart heartIcon" width="1em" height="1em" viewBox="0 0 16 16"
                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
            </button>
            
            <%}%>
            <%if(timeline[x].commentCount > 1){%>
                <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comments</a>
            <%}else if(timeline[x].commentCount === 1){%>
                <a href="/post/<%=timeline[x].id%>" class="addComment"><%=timeline[x].commentCount%> Comment</a>
            <%}else{%>
                <a href="/post/<%=timeline[x].id%>" class="addComment">Add Comment</a>
            <%}%>
            <p class="postDate1"><%=timeline[x].date%></p>
        </div>
    </div>
<%}%>
<%}%>
</div>